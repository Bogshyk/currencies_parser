Модуль автоматизированного сбора и агрегации курсов валют

1. Описание проекта

Данный программный модуль предназначен для автоматизированного сбора, обработки и агрегации данных о курсах валют с различных источников — как через API, так и с веб-страниц (скрейпинг).  
Основное назначение — централизованное регулярное обновление, очистка, выравнивание и сохранение информации о курсах валют в базе данных для последующего использования в аналитических и торговых системах.

Актуальность:  
В современном мире быстро меняющейся финансовой среды необходимо получать точные и своевременные данные о курсах валют из разных источников (центральные банки, финансовые агрегаторы и др.). Программа увеличивает оперативность и надежность сбора данных, автоматизирует рутинные процессы, снижает риски, связанные с задержкой или некорректными данными.

Для кого:

- Аналитики и специалисты по финансовому мониторингу
- Разработчики аналитических, BI- и торговых систем
- Любые проекты, где требуется регулярная загрузка и обработка курсов валют

Основные функции:

- Сбор данных с нескольких источников (API/web-scraping)
- Обработка, очистка и агрегация (расчет среднего и взвешенного курсов)
- Хранение результатов в базе PostgreSQL
- Автоматизация с использованием планировщика задач
- Защита от повторных или ошибочных записей
- Удобная интеграция с внешними системами


2. Установка и запуск

2.1. Необходимое ПО

- Python 3.9+
- PostgreSQL 13+
- Git
- (Рекомендуется) virtualenv / venv
- pip

2.2. Клонирование репозитория

git clone https://github.com/yourusername/exchange-rate-aggregator.git
cd exchange-rate-aggregator


2.3. Настройка виртуального окружения

python -m venv .venv
source .venv/bin/activate
.venv\Scripts\activate     


2.4. Установка зависимостей

pip install -r requirements.txt


2.5. Настройка переменных окружения

Создайте файл .env в корне проекта на основе .env.example:

DB_HOST=localhost
DB_PORT=5432
DB_NAME=your_db_name
DB_USER=your_db_user
DB_PASSWORD=your_db_password
SCRAPING_INTERVAL_MINUTES=60


2.6. Запуск миграций (если требуется)

Если есть миграции для базы данных, выполните их соответствующей командой (Alembic / SQL скрипты).

2.7. Старт модуля

python main.py


3. Примеры использования

3.1. Ручной запуск сбора и агрегации

python main.py --collect-now


3.2. Плановое обновление

Модуль автоматически обновляет курсы по расписанию, заданному в переменных окружения (SCRAPING_INTERVAL_MINUTES).  
В логе появится информация о старте и завершении очередной итерации сбора.

3.3. Интеграция

Готовая база данных с актуальными курсами может быть использована внешними BI-инструментами, Python-скриптами, аналитическими платформами либо напрямую через SQL-запросы.


4. Структура репозитория

currencies_parser/
├── aggregator/           
│   ├── collectors/        
│   ├── parsers/           
│   ├── db.py              
│   └── tasks.py           
├── tests/                 
├── requirements.txt       
├── main.py                
└── README.md              


5. Технические требования

- Язык: Python 3.9+
- База данных: PostgreSQL 13+
- Основные библиотеки:
  - requests — получение данных с API
  - BeautifulSoup4 — парсинг HTML страниц
  - selenium — автоматизация сложного web-сбора


- pandas — очистка, агрегация, обработка таблиц
  - APScheduler — централизованное расписание задач
  - psycopg2 — работа с PostgreSQL
  - и другие (см. requirements.txt)
- ОС: Linux, Windows, macOS (желательно Linux для production)
- Доступ к интернету для сбора данных


6. Авторы и участники

- Б.В. Бабаян — Автор и ведущий разработчик  


7. Контакты

- Email для связи: bogdanbabayan7@gmail.com
- GitHub Issues: https://github.com/Bogshyk/currencies_parser/issues
